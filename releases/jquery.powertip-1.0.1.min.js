/*
 jQuery PowerTip Plugin
 <https://github.com/stevenbenner/jquery-powertip>
 Copyright (c) 2012 Steven Benner, http://stevenbenner.com/
 Released under the MIT license.
 <https://raw.github.com/stevenbenner/jquery-powertip/master/LICENSE.txt>
*/
(function(c){var f,h,m,n,s,e,t,u,o;function A(c){f=c.pageX;h=c.pageY}function p(c){c.data("hoverTimer")&&(clearTimeout(c.data("hoverTimer")),c.data("hoverTimer",null))}function w(c){var e=c.offset();return f>=e.left&&f<=e.left+c.outerWidth()&&h>=e.top&&h<=e.top+c.outerHeight()}var q=c(window),C=c("body");s=n=m=!1;e=null;u=t=h=f=0;o=null;c.fn.powerTip=function(B){function x(a){if(m)setTimeout(function(){x(a)},d.closeDelay);else{var g=a.data("powertip"),l=a.data("powertiptarget"),i=a.data("powertipjq"),
r=l?c("#"+l):[];if(g)b.html(g);else if(0<i.length)b.empty(),i.clone(!0,!0).appendTo(b);else if(0<r.length)b.html(c("#"+l).html());else return;e=a;m=!0;if(!d.followMouse){var g=a.offset(),l=a.outerWidth(),i=a.outerHeight(),r=b.outerWidth(),f=b.outerHeight(),j=0,k=0;switch(d.placement){case "n":j=g.left+l/2-r/2;k=g.top-f-d.offset;break;case "e":j=g.left+l+d.offset;k=g.top+i/2-f/2;break;case "s":j=g.left+l/2-r/2;k=g.top+i+d.offset;break;case "w":j=g.left-r-d.offset,k=g.top+i/2-f/2}b.css("left",Math.round(j)+
"px");b.css("top",Math.round(k)+"px");n=!0}b.data("followMouse",d.followMouse);b.data("mouseOnToPopup",d.mouseOnToPopup);b.stop(!0,!0).fadeIn(d.fadeInTime,function(){o||(o=setInterval(D,500))})}}function y(a){a.data("hasActiveHover",!1);b.fadeOut(d.fadeOutTime,function(){e=null;n=m=!1;b.css("left",f+d.offset+"px");b.css("top",h+d.offset+"px");o=clearInterval(o)})}function D(){if(m){var a=!1;!1===e.data("hasActiveHover")?a=!0:w(e)||(b.data("mouseOnToPopup")?w(b)||(a=!0):a=!0);a&&y(e)}}function E(a){if(m&&
!n||s&&!n&&b.data("hasMouseMove")){var c=q.scrollTop(),e=q.width(),i=q.height(),f=b.outerWidth(),h=b.outerHeight(),j=0,k=0,j=f+a.pageX+d.offset<e?a.pageX+d.offset:e-f,k=h+a.pageY+d.offset<c+i?a.pageY+d.offset:c+i-h;b.css("left",j+"px");b.css("top",k+"px")}}function v(a,b){"show"===b?a.data("hoverTimer",setTimeout(function(){a.data("hoverTimer",null);p(a);var b=Math.abs(t-f),c=Math.abs(u-h);b+c<d.intentSensitivity?(a.data("hasActiveHover",!0),x(a)):(t=f,u=h,v(a,"show"))},d.intentPollInterval)):"hide"===
b&&a.data("hoverTimer",setTimeout(function(){a.data("hoverTimer",null);y(a)},d.closeDelay))}if(!this.length)return this;var d=c.extend({},c.fn.powerTip.defaults,B);z||(z=!0,q.on("mousemove",A));var b=c("#"+d.popupId);0===b.length&&(b=c("<div></div>",{id:d.popupId}),C.append(b));if(d.followMouse){if(!b.data("hasMouseMove"))q.on("mousemove",E);b.data("hasMouseMove",!0)}this.each(function(){var a=c(this),b=a.data("powertip"),d=a.data("powertipjq"),e=a.data("powertiptarget"),f=a.attr("title");if(!b&&
!e&&!d&&f){a.data("powertip",f);a.removeAttr("title")}});if(d.followMouse||d.mouseOnToPopup)b.on({mouseenter:function(){(b.data("followMouse")||b.data("mouseOnToPopup"))&&p(e)},mouseleave:function(){if(b.data("mouseOnToPopup")){p(e);v(e,"hide")}}});return this.on({mouseenter:function(a){var b=c(this);p(b);t=a.pageX;u=a.pageY;if(!b.data("hasActiveHover")){s=true;v(b,"show")}},mouseleave:function(){var a=c(this);p(a);s=false;a.data("hasActiveHover")&&v(a,"hide")}})};c.fn.powerTip.defaults={fadeInTime:200,
fadeOutTime:200,followMouse:!1,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:200,placement:"s",offset:10,mouseOnToPopup:!1};var z=!1})(jQuery);
