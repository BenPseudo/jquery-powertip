/*
 jQuery PowerTip Plugin
 <https://github.com/stevenbenner/jquery-powertip>
 Copyright (c) 2012 Steven Benner, http://stevenbenner.com/
 Released under the MIT license.
 <https://raw.github.com/stevenbenner/jquery-powertip/master/LICENSE.txt>
*/
(function(d){var l,m,n,o,t,f,u,v,p;function B(d){l=d.pageX;m=d.pageY}function q(d){d.data("hoverTimer")&&(clearTimeout(d.data("hoverTimer")),d.data("hoverTimer",null))}function x(d){var f=d.offset();return l>=f.left&&l<=f.left+d.outerWidth()&&m>=f.top&&m<=f.top+d.outerHeight()}var r=d(window),D=d("body");t=o=n=!1;f=null;v=u=m=l=0;p=null;d.fn.powerTip=function(C){function y(b){if(n)a.delay(100).queue(function(a){y(b);a()});else{var e=b.data("powertip"),k=b.data("powertiptarget"),h=b.data("powertipjq"),
g=k?d("#"+k):[];if(e)a.html(e);else if(h&&0<h.length)a.empty(),h.clone(!0,!0).appendTo(a);else if(g&&0<g.length)a.html(d("#"+k).html());else return;f=b;n=!0;if(!c.followMouse){var e=b.offset(),k=b.outerWidth(),h=b.outerHeight(),g=a.outerWidth(),s=a.outerHeight(),i=0,j=0;switch(c.placement){case "n":i=e.left+k/2-g/2;j=e.top-s-c.offset;break;case "e":i=e.left+k+c.offset;j=e.top+h/2-s/2;break;case "s":i=e.left+k/2-g/2;j=e.top+h+c.offset;break;case "w":i=e.left-g-c.offset;j=e.top+h/2-s/2;break;case "nw":i=
e.left-g+20;j=e.top-s-c.offset;break;case "ne":i=e.left+k-20;j=e.top-s-c.offset;break;case "sw":i=e.left-g+20;j=e.top+h+c.offset;break;case "se":i=e.left+k-20,j=e.top+h+c.offset}a.addClass(c.placement);a.css("left",Math.round(i)+"px");a.css("top",Math.round(j)+"px");o=!0}a.data("followMouse",c.followMouse);a.data("mouseOnToPopup",c.mouseOnToPopup);a.fadeIn(c.fadeInTime,function(){p||(p=setInterval(E,500))})}}function z(b){b.data("hasActiveHover",!1);a.fadeOut(c.fadeOutTime,function(){f=null;o=n=!1;
a.removeClass();a.css("left",l+c.offset+"px");a.css("top",m+c.offset+"px");p=clearInterval(p)})}function E(){if(n){var b=!1;!1===f.data("hasActiveHover")?b=!0:x(f)||(a.data("mouseOnToPopup")?x(a)||(b=!0):b=!0);b&&z(f)}}function F(b){if(n&&!o||t&&!o&&a.data("hasMouseMove")){var e=r.scrollTop(),d=r.width(),h=r.height(),g=a.outerWidth(),f=a.outerHeight(),i=0,j=0,i=g+b.pageX+c.offset<d?b.pageX+c.offset:d-g,j=f+b.pageY+c.offset<e+h?b.pageY+c.offset:e+h-f;a.css("left",i+"px");a.css("top",j+"px")}}function w(b,
e){"show"===e?b.data("hoverTimer",setTimeout(function(){b.data("hoverTimer",null);q(b);var e=Math.abs(u-l),d=Math.abs(v-m);e+d<c.intentSensitivity?(b.data("hasActiveHover",!0),a.queue(function(a){y(b);a()})):(u=l,v=m,w(b,"show"))},c.intentPollInterval)):"hide"===e&&b.data("hoverTimer",setTimeout(function(){b.data("hoverTimer",null);z(b)},c.closeDelay))}if(!this.length)return this;var c=d.extend({},d.fn.powerTip.defaults,C);A||(A=!0,r.on("mousemove",B));var a=d("#"+c.popupId);0===a.length&&(a=d("<div></div>",
{id:c.popupId}),D.append(a));if(c.followMouse){if(!a.data("hasMouseMove"))r.on("mousemove",F);a.data("hasMouseMove",!0)}this.each(function(){var b=d(this),a=b.data("powertip"),c=b.data("powertipjq"),f=b.data("powertiptarget"),g=b.attr("title");if(!a&&!f&&!c&&g){b.data("powertip",g);b.removeAttr("title")}});if(c.followMouse||c.mouseOnToPopup)a.on({mouseenter:function(){(a.data("followMouse")||a.data("mouseOnToPopup"))&&q(f)},mouseleave:function(){if(a.data("mouseOnToPopup")&&f){q(f);w(f,"hide")}}});
return this.on({mouseenter:function(b){var a=d(this);q(a);u=b.pageX;v=b.pageY;if(!a.data("hasActiveHover")){t=true;w(a,"show")}},mouseleave:function(){var a=d(this);q(a);t=false;a.data("hasActiveHover")&&w(a,"hide")}})};d.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:100,followMouse:!1,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:100,placement:"n",offset:10,mouseOnToPopup:!1};var A=!1})(jQuery);
