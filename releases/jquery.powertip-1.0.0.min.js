/*
 jQuery PowerTip Plugin
 <https://github.com/stevenbenner/jquery-powertip>
 Copyright (c) 2012 Steven Benner, http://stevenbenner.com/
 Released under the MIT license.
 <https://raw.github.com/stevenbenner/jquery-powertip/master/LICENSE.txt>
*/
(function(c){var j,k,l,m,n,p,e,q,r;function s(c){j=c.pageX;k=c.pageY}function o(c){c.data("hoverTimer")&&(clearTimeout(c.data("hoverTimer")),c.data("hoverTimer",null))}var t=c(window),z=c("body");p=n=m=l=!1;e=null;r=q=k=j=0;c.fn.powerTip=function(y){function w(a){if(l)setTimeout(function(){w(a)},d.closeDelay);else{var f=a.data("powertip"),v=a.data("powertiptarget"),h=a.data("powertipjq"),g=v?c("#"+v):[];if(f)b.html(f);else if(0<h.length)b.empty(),h.clone(!0,!0).appendTo(b);else if(0<g.length)b.html(c("#"+
v).html());else return;e=a;l=!0;d.followMouse||(A(a),m=!0);b.data("followMouse",d.followMouse);b.data("mouseOnToPopup",d.mouseOnToPopup);b.stop(!0,!0).fadeIn(d.fadeInTime)}}function B(a){a.data("hasActiveHover",!1);b.fadeOut(d.fadeOutTime,function(){e=null;m=l=!1;b.css("left",j+d.offset+"px");b.css("top",k+d.offset+"px")})}function C(a){s(a);if(l&&!m||p&&!m&&b.data("hasMouseMove")){var f=t.scrollTop(),c=t.width(),h=t.height(),g=b.outerWidth(),x=b.outerHeight(),i=0,e=0,i=g+a.pageX+d.offset<c?a.pageX+
d.offset:c-g,e=x+a.pageY+d.offset<f+h?a.pageY+d.offset:f+h-x;b.css("left",i+"px");b.css("top",e+"px")}}function A(a){var f=a.offset(),c=a.outerWidth(),a=a.outerHeight(),h=b.outerWidth(),g=b.outerHeight(),e=0,i=0;switch(d.placement){case "n":e=f.left+c/2-h/2;i=f.top-g-d.offset;break;case "e":e=f.left+c+d.offset;i=f.top+a/2-g/2;break;case "s":e=f.left+c/2-h/2;i=f.top+a+d.offset;break;case "w":e=f.left-h-d.offset,i=f.top+a/2-g/2}b.css("left",Math.round(e)+"px");b.css("top",Math.round(i)+"px")}function u(a,
b){"show"===b?a.data("hoverTimer",setTimeout(function(){a.data("hoverTimer",null);o(a);var b=Math.abs(q-j),c=Math.abs(r-k);b+c<d.intentSensitivity?(n||a.off("mousemove",s),a.data("hasActiveHover",!0),w(a)):(q=j,r=k,u(a,"show"))},d.intentPollInterval)):"hide"===b&&a.data("hoverTimer",setTimeout(function(){a.data("hoverTimer",null);B(a)},d.closeDelay))}if(!this.length)return this;var d=c.extend({},c.fn.powerTip.defaults,y),b=c("#"+d.popupId);0===b.length&&(b=c("<div></div>",{id:d.popupId}),z.append(b));
if(d.followMouse){if(!b.data("hasMouseMove"))t.on("mousemove",C);n=!0;b.data("hasMouseMove",!0)}this.each(function(){var a=c(this),b=a.data("powertip"),d=a.data("powertipjq"),e=a.data("powertiptarget"),g=a.attr("title");if(!b&&!e&&!d&&g){a.data("powertip",g);a.removeAttr("title")}});if(d.followMouse||d.mouseOnToPopup)b.on({mouseenter:function(){(b.data("followMouse")||b.data("mouseOnToPopup"))&&o(e)},mouseleave:function(){if(b.data("mouseOnToPopup")){o(e);u(e,"hide")}}});return this.on({mouseenter:function(a){var b=
c(this);o(b);q=a.pageX;r=a.pageY;if(!n)b.on("mousemove",s);if(!b.data("hasActiveHover")){p=true;u(b,"show")}},mouseleave:function(){var a=c(this);o(a);n||a.off("mousemove",s);p=false;a.data("hasActiveHover")&&u(a,"hide")}})};c.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:200,followMouse:!1,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:200,placement:"s",offset:10,mouseOnToPopup:!1}})(jQuery);
